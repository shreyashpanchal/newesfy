(this.webpackJsonpreacttuts=this.webpackJsonpreacttuts||[]).push([[0],{38:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var n=c(3),i=c.n(n),r=c(17),s=c.n(r),a=c(14),l=c.n(a),o=c(21),d=c(15),j=c(9),u=c(23),b=c.n(u),f=c(24);f.a.initializeApp({apiKey:"AIzaSyD64WqppAh7IKL_2VVabOIr0B-_MyHBDqs",authDomain:"newsefy-22b3a.firebaseapp.com",projectId:"newsefy-22b3a",storageBucket:"newsefy-22b3a.appspot.com",messagingSenderId:"199078352225",appId:"1:199078352225:web:58f9ba7d47148e9c4b6120",measurementId:"G-VZDYSYX9M9"});var O=f.a,h=(c(38),c(2));var m=function(){var e=Object(n.useState)(null),t=Object(j.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),a=s[0],u=s[1],f=Object(n.useState)(""),m=Object(j.a)(f,2),x=m[0],v=m[1],p=Object(n.useState)(""),g=Object(j.a)(p,2),y=g[0],S=g[1],N=Object(n.useState)([]),w=Object(j.a)(N,2),A=w[0],k=w[1],U=Object(n.useState)([]),D=Object(j.a)(U,2),C=D[0],I=D[1],B=Object(n.useState)("none"),V=Object(j.a)(B,2),T=V[0],q=V[1],E=Object(n.useState)("none"),R=Object(j.a)(E,2),L=R[0],F=R[1],J=Object(n.useState)("none"),P=Object(j.a)(J,2),_=P[0],G=P[1],H=Object(n.useState)(0),K=Object(j.a)(H,2),M=K[0],Z=K[1],z=Object(n.useState)(10),Y=Object(j.a)(z,2),W=Y[0],X=Y[1],Q=Object(n.useState)(0),$=Object(j.a)(Q,2),ee=$[0],te=$[1],ce=Object(n.useState)("none"),ne=Object(j.a)(ce,2),ie=ne[0],re=ne[1],se=Object(n.useState)("none"),ae=Object(j.a)(se,2),le=ae[0],oe=ae[1],de=Object(n.useState)([]),je=Object(j.a)(de,2),ue=je[0],be=je[1],fe=Object(n.useState)([]),Oe=Object(j.a)(fe,2),he=Oe[0],me=Oe[1],xe=Object(n.useState)("none"),ve=Object(j.a)(xe,2),pe=ve[0],ge=ve[1],ye=Object(n.useState)("block"),Se=Object(j.a)(ye,2),Ne=Se[0],we=Se[1],Ae=Object(n.useState)(""),ke=Object(j.a)(Ae,2),Ue=ke[0],De=ke[1],Ce=Object(n.useState)(),Ie=Object(j.a)(Ce,2),Be=Ie[0],Ve=Ie[1],Te=Object(n.useState)(""),qe=Object(j.a)(Te,2),Ee=qe[0],Re=qe[1],Le=Object(n.useState)(""),Fe=Object(j.a)(Le,2),Je=Fe[0],Pe=Fe[1],_e=Object(n.useState)(""),Ge=Object(j.a)(_e,2),He=Ge[0],Ke=Ge[1];Object(n.useEffect)((function(){var e=O.firestore();e.collection("articles").orderBy("startedAt","desc").get().then((function(e){e.forEach((function(e){var t={id:e.id,name:e.data().title,desc:e.data().desc,img:e.data().imgUrl};u((function(e){return[].concat(Object(d.a)(e),[t])}))}))})),e.collection("stories").orderBy("startedAt","desc").get().then((function(e){e.forEach((function(e){var t={id2:e.id,storytitle78:e.data().title,imgsr:e.data().imgUrl};k((function(e){return[].concat(Object(d.a)(e),[t])}))}))}))}),[]);var Me=function(){var e=Object(o.a)(l.a.mark((function e(t){var c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),G("block"),"nj4CjrgHGJlcZumtdNmDCUR560c98b1d",(c=new FormData).append("file",Be),c.append("","\\"),X((function(e){return 30})),e.next=9,fetch("https://muse.ai/api/files/upload",{body:c,headers:{Key:"nj4CjrgHGJlcZumtdNmDCUR560c98b1d"},method:"POST"}).then((function(e){return X((function(e){return 65})),e.json()})).then((function(e){console.log(e),n=(n=e.url).replace("data","videos/hls.m3u8"),X((function(e){return 80}))})).catch((function(e){console.error("Error:",e)}));case 9:X((function(e){return 90})),O.firestore().collection("videos").add({bookmarkBy:[],title:Ue,videoUrl:n,startedAt:O.firestore.FieldValue.serverTimestamp()}),X((function(e){return 100})),G("none"),De(""),alert("Video is Successfully Uploaded");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"nav-bar",children:Object(h.jsx)("h1",{children:"Dashboard"})}),Object(h.jsx)("h1",{children:"Upload Data"}),Object(h.jsxs)("div",{className:"forms",children:[Object(h.jsxs)("div",{className:"articles",children:[Object(h.jsx)("h2",{children:"Articles"}),Object(h.jsxs)("form",{onSubmit:function(e){var t;q("block"),e.preventDefault();var n=O.storage();n.ref("Articles/".concat(c.name)).put(c).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;Z((function(e){return t}))}),(function(e){}),(function(){n.ref("Articles").child(c.name).getDownloadURL().then((function(e){t=e,O.firestore().collection("articles").add({bookmarkBy:[],desc:Je,imgUrl:t,title:Ee,startedAt:O.firestore.FieldValue.serverTimestamp()}),re("none"),q("none"),Pe(""),Re(""),alert("Article Successfully Uploaded")}))}))},children:[Object(h.jsx)("div",{children:Object(h.jsx)("textarea",{id:"at",placeholder:"Article Title",required:!0,value:Ee,onChange:function(e){Re(e.target.value)}})}),Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("textarea",{id:"adt",placeholder:"Description",required:!0,value:Je,onChange:function(e){Pe(e.target.value)}})]}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{id:"af",required:!0,type:"file",name:"file",onChange:function(e){if(i(e.target.files[0]),void 0===e.target.files[0])console.log("select some files"),re("none");else{var t=URL.createObjectURL(e.target.files[0]);re("block"),v(t)}}})}),Object(h.jsx)("progress",{style:{display:T},value:M,max:"100",children:"0%"}),Object(h.jsxs)("div",{style:{display:ie},children:[Object(h.jsx)("h3",{style:{textAlign:"center"},children:"Preview"}),Object(h.jsx)("div",{id:"aimg",children:Object(h.jsx)("img",{src:x})})]}),Object(h.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(h.jsx)("button",{className:"btn-grad5",children:"Upload Article"})})]})]}),Object(h.jsxs)("div",{className:"storiesnews",children:[Object(h.jsx)("h2",{children:"Stories"}),Object(h.jsxs)("form",{onSubmit:function(e){F("block"),e.preventDefault();var t=O.storage(),c=O.firestore(),n=0;c.collection("stories").get().then((function(e){e.forEach((function(e){n++}));var c=(n+1).toString();S((function(e){return c}));var i=[];ue.map((function(e,n){var r=t.ref("Stories/s".concat(c,"/").concat(e.name)).put(e);i.push(r),r.on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;te((function(e){return t}))}),(function(e){}),Object(o.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.ref("Stories/s".concat(c)).child(e.name).getDownloadURL().then((function(e){me((function(t){return[].concat(Object(d.a)(t),[e])}))}));case 2:case"end":return n.stop()}}),n)}))))})),Promise.all(i).then((function(){ge("block"),we("none"),oe("none"),F("none"),be((function(e){return[]}))})).catch((function(e){console.log("Error")}))})).catch((function(e){console.log("Error getting documents: ",e)}))},children:[Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("textarea",{id:"st",placeholder:"Title",required:!0,value:He,onChange:function(e){Ke(e.target.value)}})]}),Object(h.jsxs)("div",{children:["  ",Object(h.jsx)("input",{id:"sf",required:!0,type:"file",multiple:!0,name:"file",onChange:function(e){if(0===e.target.files.length)oe("none");else{var t,c=[],n=function(){var n=URL.createObjectURL(e.target.files[t]);c.push(n);var i=e.target.files[t];be((function(e){return[].concat(Object(d.a)(e),[i])}))};for(t=0;t<e.target.files.length;t++)n();oe("block"),I(c)}}})]}),Object(h.jsx)("progress",{style:{display:L},value:ee,max:"100",children:"0%"}),Object(h.jsxs)("div",{style:{display:le},children:[Object(h.jsx)("h3",{style:{textAlign:"center"},children:"Preview"}),Object(h.jsx)("div",{id:"simg",children:C.map((function(e,t){return Object(h.jsx)("img",{src:e},t)}))})]}),Object(h.jsx)("div",{style:{display:Ne,position:"relative"},children:Object(h.jsx)("button",{className:"btn-grad ",children:"Upload"})}),Object(h.jsx)("div",{style:{display:pe,position:"relative"},children:Object(h.jsx)("button",{onClick:function(e){e.preventDefault();var t=O.firestore();he.reverse(),t.collection("stories").add({bookmarkBy:[],title:He,imgUrl:he,startedAt:O.firestore.FieldValue.serverTimestamp(),sid:y}),ge("none"),me((function(e){return[]})),we("block"),alert("Stories Successfully Uploaded")},className:"btn1-grad ",children:"Upload Stories"})})]})]}),Object(h.jsxs)("div",{className:"video-upload",children:[Object(h.jsx)("h2",{children:"Video-Upload"}),Object(h.jsxs)("form",{onSubmit:Me,children:[Object(h.jsxs)("div",{children:[" ",Object(h.jsx)("input",{id:"vtd",placeholder:"Video Title",required:!0,type:"text",value:Ue,onChange:function(e){De(e.target.value)}})]}),Object(h.jsx)("div",{children:Object(h.jsx)("input",{required:!0,id:"vf",type:"file",name:"file",onChange:function(e){Ve(e.target.files[0])}})}),Object(h.jsx)("progress",{style:{display:_},value:W,max:"100",children:"0%"}),Object(h.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(h.jsx)("button",{className:"btn-grad",children:"Upload Videos"})})]})]})]}),Object(h.jsx)("h1",{children:"Delete Data"}),Object(h.jsxs)("div",{className:"deletes",children:[Object(h.jsxs)("div",{className:"adelete",children:[Object(h.jsx)("h2",{children:"Articles"}),Object(h.jsx)("div",{className:"wrapper-article",children:a.map((function(e,t){return Object(h.jsxs)("div",{className:"combomain",children:[Object(h.jsx)("h5",{style:{textAlign:"center"},children:"Title"}),Object(h.jsx)("div",{className:"acombo",children:Object(h.jsx)("div",{className:"combotitle",children:e.name})}),Object(h.jsx)("h5",{style:{textAlign:"center"},children:"Description"}),Object(h.jsxs)("div",{className:"articlecontent",children:[Object(h.jsx)("div",{style:{display:"none"},children:e.id}),Object(h.jsx)("div",{id:"descg",children:e.desc})]}),Object(h.jsx)("h5",{style:{textAlign:"center"},children:"Image"}),Object(h.jsx)("div",{className:"videocontent",children:Object(h.jsx)("img",{src:e.img})}),Object(h.jsx)(b.a,{id:"deletearticle",onClick:function(){if(window.confirm("Are you Sure you want to Delete this Article")){var t=a.filter((function(t){return t.id!==e.id}));u((function(e){return t})),O.firestore().collection("articles").doc(e.id).delete().then((function(){console.log("successfuly delted")})).catch((function(){console.log("error")}))}},children:" "})]},e.id)}))})]}),Object(h.jsxs)("div",{className:"sdelete",children:[Object(h.jsx)("h2",{children:"Stories"}),Object(h.jsx)("div",{className:"wrapper-article",children:A.map((function(e,t){return Object(h.jsxs)("div",{className:"combo234",children:[Object(h.jsx)("h5",{style:{textAlign:"center"},children:"Stories"}),Object(h.jsx)("div",{className:"acombo",children:Object(h.jsx)("div",{className:"combotitles",children:e.storytitle78})}),Object(h.jsx)("h5",{style:{textAlign:"center"},children:"Images"}),Object(h.jsxs)("div",{className:"sotrycontent",children:[Object(h.jsx)("div",{style:{display:"none"},children:e.id2}),Object(h.jsx)("div",{className:"imgwrapping67",children:e.imgsr.map((function(e,t){return Object(h.jsx)("img",{src:e,alt:"fofpi"},t)}))})]}),Object(h.jsx)(b.a,{id:"deletearticle",onClick:function(){if(window.confirm("Are you Sure you want to Delete this Story")){var t=A.filter((function(t){return t.id2!==e.id2}));k((function(e){return t})),O.firestore().collection("stories").doc(e.id2).delete().then((function(){console.log("successfuly deleted")})).catch((function(){console.log("error")}))}}})]},e.id2)}))})]}),Object(h.jsx)("div",{className:"vdelete",children:Object(h.jsx)("h2",{children:"Videos"})})]})]})};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.866e504d.chunk.js.map